/* ------------------------------
   Text Caret Styling
------------------------------ */

/* Rainbow animation for caret */
@keyframes caret-rainbow {
	0% {
		--caret-color: color-mix(in oklch, var(--color-red-mid) 50%, var(--color-red-min));
	}
	14.28% {
		--caret-color: color-mix(in oklch, var(--color-orange-mid) 50%, var(--color-orange-min));
	}
	28.56% {
		--caret-color: color-mix(in oklch, var(--color-yellow-mid) 50%, var(--color-yellow-min));
	}
	42.84% {
		--caret-color: color-mix(in oklch, var(--color-green-mid) 50%, var(--color-green-min));
	}
	57.12% {
		--caret-color: color-mix(in oklch, var(--color-blue-mid) 50%, var(--color-blue-min));
	}
	71.4% {
		--caret-color: color-mix(in oklch, var(--color-violet-mid) 50%, var(--color-violet-min));
	}
	85.68% {
		--caret-color: color-mix(in oklch, var(--color-purple-mid) 50%, var(--color-purple-min));
	}
	100% {
		--caret-color: color-mix(in oklch, var(--color-red-mid) 50%, var(--color-red-min));
	}
}

/* Apply caret styling */
body {
	--caret-color: var(--color-green-mid);
	animation: caret-rainbow 10s infinite linear;
}

/* Double pulse animation for caret */
@keyframes caret-pulse {
	0%, 100% {
		opacity: 0.9;
	}
	10% {
		opacity: 0.3;
	}
	20% {
		opacity: 0.9;
	}
	30% {
		opacity: 0.3;
	}
	40%, 95% {
		opacity: 0.9;
	}
}

/* Block caret style for editors */
.cm-editor .cm-cursor,
.cm-editor .cm-dropCursor {
	border-left: none !important;
	border-right: none !important;
	border-bottom: none !important;
	width: 0.6em !important;
	background-color: var(--caret-color) !important;
	opacity: 0.9;
	animation: caret-pulse 2s ease-in-out infinite;
}

/* Caret color for inputs and textareas */
.cm-editor .cm-content {
	caret-color: var(--caret-color);
}

input,
textarea {
	caret-color: var(--caret-color);
}
